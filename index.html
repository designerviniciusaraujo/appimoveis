<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>Aplicativo de venda de imóveis</title>
    <link rel="shortcut icon" href="ico.png" type="image/x-icon">
    <link rel="stylesheet" href="assets/css/swiper.css">
    <link rel="stylesheet" href="all.css">
    <link rel="stylesheet" href="assets/css/light-thema.css">
    <link rel="stylesheet" href="assets/css/app.css">
    <link rel="stylesheet" href="assets/css/tabs.css">
    <link rel="stylesheet" href="assets/css/produtos.css">

</head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-F72XNQT98R"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-F72XNQT98R');
</script>
   
<body status="naologado"> 
    <header>  
        <img style="width: 35px;border-radius: 12px;" src="logo.png" alt=""> 
        <div class="welcome" id="welcome"></div>  
        <button onclick="toggle('CartMenu')">
         <img style="width: 35px;border-radius: 12px;" src="menu.png" alt="" />
        </button>   
        <div id="CartMenu" view="false"> 
        <img onclick="toggle('CartMenu',this)" style="width: 40px;border-radius: 12px;margin: 35px 10px 0;" src="back.png" alt="">

          <button  style="background:transparent;z-index: 999;border: 0px ;right: 5px;margin: 15px;border-radius: 20px;height: 25px;width: 25px;color: #5a5a5a;float: right;margin: 30px;" onclick="toggle('CartMenu',this)">
             <img src="close.png" alt=""  >
             
          </button>  
            
      </div> 
    </header>

      <div class="search" style="position: relative;top: 10px;width: 90%;left: 0;margin:15px 5%;"  >
        
          <h6 style=" font-size: 26px;   line-height: 1.1; margin: 25px 0; color: #626A89; "><strong class="primary-color">Encontre </strong></br> o
            Empreendimento ideal pra você.
          </h6>  
          <label style=" width: 100%; display: flex; align-items: center; "> 
            <input id="serchInput" style="width: 100%;margin: 0px;border: 1px solid #dddddd;padding:15px 0px 15px 35px;border-radius: 25px;background: #F5F5F5;" type="text" placeholder="Buscar itens..">
            <i style="position: absolute;left: 15px;top: 15px;opacity: 0.3;cursor: pointer;" class="fa-solid fa-magnifying-glass"></i>
            <i style="position: absolute;right: 15px;top: 15px;opacity: 0.3;cursor: pointer;" class="fa-solid fa-magnifying-glass primary-color"></i>
          </label>
          <ul id="searchResult"  style= "background: white;width: 100%;left: 0;position: fixed;z-index: 99;top: 219px;padding: 0px;" >
          </ul> 

      </div> 
 


    <main > 
      <div id="launcher"  style="display: none ;">   
        <div class="logo" style="    width: 100%;  position: absolute;   z-index: 99;      display: flex; flex-direction: column;  top: 30px;padding: 0 30px;">
          <img src="logo.png" alt="" style="width: 40px;display: block;margin: 0 32px;position: relative;right: 33px;">
          <h1 style="color: white;font-weight: 400;font-size: 24px;line-height: 1.2;margin-top: 140px;">Encontre o</br>
            Empreendimento ideal </br>
          <strong style="font-weight: 400;color: #4340e9;text-transform: capitalize;">Para você.</strong></h1>
        </div> 
         <div class="swiper containerMySwiper"  >
            <div class="swiper-wrapper">  
              <div class="swiper-slide">
                <img  style="width: 226;"  src="laucher.png" alt="" >
              </div>  
            </div>
            <div class="swiper-pagination"></div>
         </div>

         
       <div style="
       position: relative;
       z-index: 99999999;
       left: 0;
       width: 100%;
   ">
        <div class="inputs" style="
        position: absolute;
        z-index: 99;
        width: 100%;
        display: flex;
        align-items: center;
        flex-direction: column;
        bottom: 40px;
          ">  
          <label style="
          width: 80%;
          display: flex;
          justify-content: center;
      ">
            <input id="inputName" type="text" placeholder="Digite seu nome"> 
            <i style="    font-size: 12px; position: absolute;left: 0px;margin:21px 17px;opacity: .3;" class='fa-solid fa-user' ></i>
            <i style="    font-size: 12px; position: absolute;right:  0px;margin:21px 17px;opacity: .3;" class='fa-solid fa-arrow-right-long' ></i>
 
          </label>
          <button class="primary-color bg-primary-color" onclick=getData()>Iniciar</button>
        </div>  
         
        </div>
      </div>
      

      
      <div id="app">
    
        <div id="mytabs" >
        </div> 
        
     </div>

 

    </main>

    <footer style="display: flex;justify-content: center;opacity: 0.6;text-transform: uppercase;align-items: center;padding: 7px;flex-direction: column;">
      Empreendimentos  em Ubatuba <span><h6>Desenvolvido por : Digital Harmony</h6></span>
    </footer>

</body>
<script src="assets/js/swiper.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js" integrity="sha512-WFN04846sdKMIP5LKNphMaWzU7YpMyCU245etK3g/2ARYbPK9Ub18eG+ljU96qKRCWh+quCY7yefSmlkQw1ANQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> 
<script src="all.js"></script>
<script src="products.js"></script>
<script src="teste.js"></script>

<script>

  search = ()=> {
    
    let  id = document.getElementById('search')  
    let  serchInput = document.getElementById('serchInput')   
    let  searchResult = document.getElementById('searchResult')   
     
    searchResult.innerHTML=""
    

    submitSearch=(event)=>{
      let searched=event.target.value  
      const productFound=ProductsFilter(searched)  
     
      productFound.length > 0 ? render(productFound) :  searchResult.innerHTML="Produto não encontrado"

      if( searched.length=='' ){
        searchResult.innerHTML=""
        searchResult.setAttribute("view","hide")
        body.style.cssText="overflow: auto";


        
      }else{
       ProductsFilter(searched)  
      }
    }

    ProductsFilter=(searched)=>{
        return listProd.filter(p=>{
           return p.name.toLowerCase().includes(searched.toLowerCase())  
        })  
      }
    serchInput.addEventListener('keyup', _.debounce(submitSearch, 500))
 

    totalProducts=(listProd)=>{ 
      // console.log(listProd.length)
    }
    totalProducts(listProd)

    function render(productFound){   
      body.style.cssText="overflow: hidden";
      serchInput.style.cssText+="display:block;"
      searchResult.setAttribute("view","show")
      productFound.map((pr)=>{  
            searchResult.innerHTML+=`
                   <div class="product" id=`+pr.id+` onclick="toggle('`+pr.id+`')" view="false">   
                    <div style="padding: 10px 10px;order: 2;width: 27%;">
                            <h4 style="font-weight: 400;text-transform: uppercase;margin: 0;">`+pr.name+`</h4>
                         
                            <span  style="font-weight: 400;">`+pr.price.toLocaleString('pt-br',{style: 'currency', currency: 'BRL'})+`</span> 

                        </div>  
                        <button class="bg-primary-color"  style="order: 2;width: 20px;height: 20px;display: flex;justify-content: center;align-items: center;margin: 0 0px 0 43px;"  >+</button> 

                        <div style="margin: 0 25px; position: relative;order: 1;width: 23%;display: flex;justify-content: center;">   
                            <img style="width: 120px;margin-left: 5px;" src="produtos/`+pr.img+`" alt="">
                        </div>

                        <div style="position: absolute;right: -106px;width: 96px;height: 100%;">  
                            <button class="bg-primary-color" key=`+pr.id+` onclick="addProd(this)" class="cartBtn bg-primary-color">Detalhes</button> 
                        </div>  
                </div> 
            </div>   
            `;    
        }) 
   }
   



   

  }
  search()
</script>
<script> 
   
   initApp=()=>{
  var containerApp=document.getElementById('mytabs') 

  const data = [{  
      
     categoria :"Terrenos",
    
    "itens":[{ 
        id:'0',
        tipo:'Venda', 
        nome:'Casa',  
        mts:'50 mts',  
        dorms:'2 dormitórios',  
        valor:10,  
        localizacao:'Terreno Ubatuba 20mts',
        imgPrincipal:'produtos/casa.png',
        description:' Terreno 20 de frente por 18 de fundo com alicerce pra levanta um sobrado, com 1 quarto e 1 banheiro dentro do terreno + 3 aptos do mesmo projeto da foto com garagem para 2 carros, 100 metros do mar. 400.000 praia da lagoinha',
      },{ 
        id:'1',
        tipo:'Venda', 
        nome:'Casa',  
        mts:'50 mts',  
        dorms:'2 dormitórios',  
        valor:10,  
        localizacao:'Terreno Ubatuba 20mts',
        imgPrincipal:'produtos/casa.png',
        description:' Terreno 20 de frente por 18 de fundo com alicerce pra levanta um sobrado, com 1 quarto e 1 banheiro dentro do terreno + 3 aptos do mesmo projeto da foto com garagem para 2 carros, 100 metros do mar. 400.000 praia da lagoinha',
      }
    ]
      },{  
        categoria:"Casas",
        
        "itens":[{ 
            id:'3',
            tipo:'Venda', 
            nome:'Casa', 
            mts:'50 mts', 
            valor:10, 
            localizacao:'Casa Ubatuba 70 metros da praia',
            imgPrincipal:'produtos/casa.png', 
            description:'Casa 70 metros da praia somente o andar de baixo com entrada individual, 2 quartos, sala, cozinha com armário planejado, garagem 1 carro, churrasqueira, ducha, varanda em volta de toda casa. 230.000',   
          },{ 
            id:'4',
            tipo:'Venda', 
            nome:'Casa', 
            mts:'50 mts', 
            valor:10, 
            localizacao:'Casa Ubatuba 70 metros da praia',
            imgPrincipal:'produtos/casa.png', 
            description:'Casa 70 metros da praia somente o andar de baixo com entrada individual, 2 quartos, sala, cozinha com armário planejado, garagem 1 carro, churrasqueira, ducha, varanda em volta de toda casa. 230.000',   
          }
        ]   
    }   
  ]
    containerApp.innerHTML=` <div class="tab" >   </div>   `


    for (var i = 0; i < data.length; i++) { 
     
    
      containerApp.childNodes[1].innerHTML+=` 
          <button class="tablinks " onclick="openCity(event, '`+data[i].categoria+`')">`+data[i].categoria+`</button>
         
        `
      var subdata=data[i].itens
      for (var j = 0; j < subdata.length; j++) { 
        
         containerApp.innerHTML+=` 
          <div id="`+data[i].categoria+`" class="tabcontent">
           

            <div class="swiper ">
              <div class="swiper-wrapper"> 
                
                <div class="swiper-slide">
                 <div class="card products">
                  <span>`+subdata[j].mts+`</span>
                  <img  src="`+subdata[j].imgPrincipal+`" alt="">
                  <div class="card-body"> 
                    <p>`+subdata[j].nome+`</p>
                  <h4>`+subdata[j].localizacao+`</h4>
                  <div class="destaques" style=" justify-content: space-between;">
                  <div >
                    <img  style="width: 25px !important;  float: left;    " src="assets/img/medindo.png" alt="">

                    `+subdata[j].mts+`
                 
                  </div>
                  
                   </div> 
                  <div class="preco">`+subdata[j].tipo+` `+subdata[j].valor.toLocaleString('pt-br',{style: 'currency', currency: 'BRL'})+` </div>
                  </div>  
                  </div>
                </div>
              

              </div>
              <div class="swiper-pagination"></div>
          </div>
          </div>
        `
          var swiper = new Swiper(".swiper", {
            slidesPerView: "auto",
            spaceBetween:10,
            loop: true,
            autoplay: {
                delay: 1500,
                disableOnInteraction: false,
            },
            pagination: {
              el: ".swiper-pagination",
              clickable: true,
            },
        });

      }
 
    } 

    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
     
      console.log(tabcontent[0])
      tabcontent[0].style.display = "block";
    }
     
    
}  
initApp()
function openCity(evt, cityName) {
  var i, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " active";
}
 
</script>

<!-- Swiper JS -->
<script src="assets/js/swiper.js"></script>

 
 
</html>